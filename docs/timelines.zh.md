# TIMELINES API æ¥å£æ–‡æ¡£

## ğŸŒ è¯­è¨€åˆ‡æ¢
[ä¸­æ–‡ç‰ˆ](./timelines.zh.md) | [English](./timelines.md)

## æ¥å£ä¿¡æ¯

```
POST /openapi/capcut-mate/v1/timelines
```

## åŠŸèƒ½æè¿°

æ ¹æ®æŒ‡å®šçš„æ—¶é•¿å’Œæ•°é‡åˆ›å»ºæ—¶é—´çº¿ã€‚è¯¥æ¥å£ç”¨äºç”Ÿæˆè§†é¢‘ç¼–è¾‘æ‰€éœ€çš„æ—¶é—´çº¿é…ç½®ï¼Œæ”¯æŒå¤šç§æ—¶é—´çº¿ç±»å‹å’Œèµ·å§‹æ—¶é—´è®¾ç½®ï¼Œä¸ºåç»­çš„ç´ ææ·»åŠ å’Œç¼–è¾‘æä¾›æ—¶é—´å‚è€ƒã€‚

## æ›´å¤šæ–‡æ¡£

ğŸ“– æ›´å¤šè¯¦ç»†æ–‡æ¡£å’Œæ•™ç¨‹è¯·è®¿é—®ï¼š[https://docs.jcaigc.cn](https://docs.jcaigc.cn)

## è¯·æ±‚å‚æ•°

```json
{
  "duration": 10000000,
  "num": 3,
  "start": 0,
  "type": "equal"
}
```

### å‚æ•°è¯´æ˜

| å‚æ•°å | ç±»å‹ |å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|--------|------|
| duration | number |âœ… | - |æ€»æ—¶é•¿(å¾®ç§’) |
| num | number |âœ… | - | æ—¶é—´æ®µæ•°é‡ |
| start | number |âŒ | 0 |æ—¶é—´(å¾®ç§’) |
| type | string |âŒ | "equal" | æ—¶é—´çº¿ç±»å‹ |

### å‚æ•°è¯¦è§£

#### duration
- **ç±»å‹**: number
- **è¯´æ˜**:æ€»æ—¶é•¿ï¼Œå•ä½ä¸ºå¾®ç§’ï¼ˆ1ç§’ = 1,000,000å¾®ç§’ï¼‰
- **ç¤ºä¾‹**: 10000000 (10ç§’)

#### num
- **ç±»å‹**: number
- **è¯´æ˜**:éœ€è¦åˆ›å»ºçš„æ—¶é—´æ®µæ•°é‡
- **ç¤ºä¾‹**: 3 (åˆ›å»º3ä¸ªæ—¶é—´æ®µ)

#### start
- **ç±»å‹**: number
- **è¯´æ˜**: æ—¶é—´çº¿çš„èµ·å§‹æ—¶é—´ï¼Œå•ä½ä¸ºå¾®ç§’
- **é»˜è®¤å€¼**: 0
- **ç¤ºä¾‹**: 2000000 (ä»2ç§’å¼€å§‹)

#### type
- **ç±»å‹**: string
- **è¯´æ˜**: æ—¶é—´çº¿åˆ†å‰²ç±»å‹
- **å¯é€‰å€¼**: 
  - "equal" -ç­‰åˆ†æ—¶é—´çº¿
  - "custom" - è‡ªå®šä¹‰æ—¶é—´çº¿
- **é»˜è®¤å€¼**: "equal"

## å“åº”æ ¼å¼

### æˆåŠŸå“åº” (200)

```json
{
  "timelines": [
    {
      "start": 0,
      "end": 3333333
    },
    {
      "start": 3333333,
      "end": 6666666
    },
    {
      "start": 6666666,
      "end": 10000000
    }
  ],
  "all_timelines": [
    {
      "start": 0,
      "end": 10000000
    }
  ]
}
```

###å“åº”å­—æ®µè¯´æ˜

| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| timelines | array | åˆ†æ®µæ—¶é—´çº¿æ•°ç»„ |
| all_timelines | array |å®Œæ•´æ—¶é—´çº¿æ•°ç»„ |
| start | number | æ—¶é—´æ®µå¼€å§‹æ—¶é—´(å¾®ç§’) |
| end | number | æ—¶é—´æ®µç»“æŸæ—¶é—´(å¾®ç§’) |

###é”™è¯¯å“åº” (4xx/5xx)

```json
{
  "detail": "é”™è¯¯ä¿¡æ¯æè¿°"
}
```

## ä½¿ç”¨ç¤ºä¾‹

### cURL ç¤ºä¾‹

#### 1.åŸºæœ¬æ—¶é—´çº¿åˆ›å»º

```bash
curl -X POST https://capcut-mate.jcaigc.cn/openapi/capcut-mate/v1/timelines \
  -H "Content-Type: application/json" \
  -d '{
    "duration": 15000000,
    "num": 5,
    "start": 0,
    "type": "equal"
  }'
```

#### 2.å¸¦å§‹æ—¶é—´çš„æ—¶é—´çº¿

```bash
curl -X POST https://capcut-mate.jcaigc.cn/openapi/capcut-mate/v1/timelines \
  -H "Content-Type: application/json" \
  -d '{
    "duration": 20000000,
    "num": 4,
    "start": 5000000,
    "type": "equal"
  }'
```

##é”™è¯¯ç è¯´æ˜

| é”™è¯¯ç  |é”™è¯¯ä¿¡æ¯ | è¯´æ˜ | è§£å†³æ–¹æ¡ˆ |
|--------|----------|------|----------|
| 400 | durationæ˜¯å¿…å¡«é¡¹ |ç¼ºå°‘æ€»æ—¶é•¿å‚æ•° | æä¾›æœ‰æ•ˆçš„durationå‚æ•° |
| 400 | numæ˜¯å¿…å¡«é¡¹ |ç¼ºå°‘æ—¶é—´æ®µæ•°é‡å‚æ•° | æä¾›æœ‰æ•ˆçš„numå‚æ•° |
| 400 | durationå¿…é¡»å¤§äº0 | æ—¶é•¿å‚æ•°æ— æ•ˆ | ä½¿ç”¨å¤§äº0çš„æ—¶é•¿å€¼ |
| 400 | numå¿…é¡»å¤§äº0 | æ•°é‡å‚æ•°æ— æ•ˆ | ä½¿ç”¨å¤§äº0çš„æ•°é‡å€¼ |
| 400 | æ—¶é—´çº¿ç±»å‹æ— æ•ˆ | typeå‚æ•°ä¸æ”¯æŒ | ä½¿ç”¨æ”¯æŒçš„æ—¶é—´çº¿ç±»å‹ |
| 500 | æ—¶é—´çº¿è®¡ç®—å¤±è´¥ |å†…éƒ¨å¤„ç†é”™è¯¯ |è”æŠ€æœ¯æ”¯æŒæœ¯æ”¯æŒ |

## æ³¨æ„äº‹é¡¹

1. **æ—¶é—´å•ä½**:æ‰€æœ‰æ—¶é—´å‚æ•°ä½¿ç”¨å¾®ç§’ï¼ˆ1ç§’ = 1,000,000å¾®ç§’ï¼‰
2. **å‚æ•°è¦æ±‚**: durationå’Œnumä¸ºå¿…å¡«å‚æ•°
3. **æ—¶é—´èŒƒå›´**:ç¡®ä¿start + (duration/num) * num <=æ€»æ—¶é•¿
4. **ç±»å‹é€‰æ‹©**:æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ—¶é—´çº¿ç±»å‹
5. **ç²¾åº¦è€ƒè™‘**:å¾®ç§’çº§åˆ«çš„æ—¶é—´ç²¾åº¦é€‚åˆç²¾ç¡®çš„è§†é¢‘ç¼–è¾‘

##å·¥ä½œæµç¨‹

1.éªŒè¯å¿…å¡«å‚æ•°ï¼ˆduration, numï¼‰
2.æ£€æŸ¥å‚æ•°æœ‰æ•ˆæ€§ï¼ˆæ­£æ•°ã€åˆç†èŒƒå›´ï¼‰
3.æ ¹æ®typeç±»å‹è®¡ç®—æ—¶é—´çº¿åˆ†å‰²æ–¹å¼
4. ç”Ÿæˆåˆ†æ®µæ—¶é—´çº¿æ•°ç»„
5. ç”Ÿæˆå®Œæ•´æ—¶é—´çº¿æ•°ç»„
6. è¿”å›æ—¶é—´çº¿é…ç½®ç»“æœ

##ç›¸å…³æ¥å£

- [åˆ›å»ºè‰ç¨¿](./create_draft.md)
- [éŸ³é¢‘æ—¶é—´çº¿](./audio_timelines.md)
- [è§†é¢‘ä¿¡æ¯](./video_infos.md)
- [å›¾ç‰‡ä¿¡æ¯](./imgs_infos.md)

---

<div align="right">

ğŸ“š **é¡¹ç›®èµ„æº**  
**GitHub**: [https://github.com/Hommy-master/capcut-mate](https://github.com/Hommy-master/capcut-mate)  
**Gitee**: [https://gitee.com/taohongmin-gitee/capcut-mate](https://gitee.com/taohongmin-gitee/capcut-mate)

</div>

### è¯­è¨€åˆ‡æ¢
[ä¸­æ–‡ç‰ˆ](./timelines.zh.md) | [English](./timelines.md)